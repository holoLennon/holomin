appservice.service("ManufacturerService",function(e,r,n,t,u,i){u.debug("ManufacturerService in");var a;var c;var o={where:"",pageNo:1,pageSize:DEFPAGESIZE,hasNextPage:true,cmd:""};var f=i.api+"/Manufacturer";return{first:function(e,r){if(r){if(e)r.where=e;r.pageNo=1;return this.query(r)}o.where=e?e:"";o.pageNo=1;return this.query()},more:function(e){if(e){e.pageNo=e.pageNo+1;return this.query(e)}o.pageNo=o.pageNo+1;return this.query()},query:function(e){var r=o;if(e)r=e;var u=n.defer();var i=f+"/query";t({method:"GET",url:i,params:r}).success(function(e,r,n,t){a=_.union(a,e);u.resolve(e)});return u.promise},newget:function(e){var r=o;if(e)r=e;var u=n.defer();var i=f+"/getnew";t({method:"GET",url:i,params:r}).success(function(e,r,n,t){a=_.union(a,e);u.resolve(e)});return u.promise},create:function(e,r){var i=o;if(r)i=r;var c=_.omit(e,function(e,r,n){return _.isObject(e)||_.isArray(e)||r.indexOf("String")!=-1||r.indexOf("gmt")!=-1});c=_.extend(c,{cmd:i.cmd});u.debug("ManufacturerService create");u.debug(c);var s=n.defer();var v=f+"/create";t({method:"POST",url:v,params:c}).success(function(e,r,n,t){a=_.union(a,e);s.resolve(e)});return s.promise},update:function(e,r){var i=o;if(r)i=r;var c=_.omit(e,function(e,r,n){return _.isObject(e)||_.isArray(e)||r.indexOf("String")!=-1||r.indexOf("gmt")!=-1});c=_.extend(c,{cmd:i.cmd});u.debug("ManufacturerService update");u.debug(c);var s=n.defer();var v=f+"/update";t({method:"POST",url:v,params:c}).success(function(e,r,n,t){a=_.union(a,e);s.resolve(e)});return s.promise},getlocal:function(e){for(var r in a){if(a[r].id.toString()===e.toString()){return a[r]}}return{}},get:function(e,r){var u=o;if(r)u=r;var i=n.defer();var a=f+"/get/"+e;t({method:"GET",url:a,params:u}).success(function(e,r,n,t){i.resolve(e)});return i.promise},getList:function(){return a},getPage:function(){return o},getObj:function(){return c},newObj:function(){return _.clone(_Manufacturer)}}});