appctrl.controller("DruggistListCtrl",function(t,e,i,r,n,g,s,a,u,o,l,c,f,p,d,h){i.debug("enter DruggistList ctrl");t.page=_.clone(_Page);t.list=[];t.$on("$ionicView.beforeEnter",function(){i.debug("DruggistList ctrl beforeEnter")});t.$on("$ionicView.afterEnter",function(){i.debug("DruggistList ctrl afterEnter");if(ctrlReinitMap.get("DruggistListCtrl")){ctrlReinitMap.remove("DruggistListCtrl");i.debug("DruggistList ctrl afterEnter init");t.init()}});t.init=function(){i.debug("DruggistList ctrl init ");t.page.where=f.get("DruggistList"+"QueryWhere");t.page.pageNo=1;t.page.hasNextPage=false;t.list=[];t.first()};t.doRefresh=function(){t.init()};t.addList=function(e){angular.forEach(e,function(e){t.list.push(e)});if(e&&e.length<t.page.pageSize){t.page.hasNextPage=false}else{t.page.hasNextPage=true}};t.first=function(){d.first(null,t.page).then(function(e){i.debug("DruggistList ctrl query then");t.addList(e);t.$broadcast("scroll.refreshComplete")})};t.more=function(){i.debug("DruggistList ctrl more=========");if(!t.page.hasNextPage){return}d.more(t.page).then(function(e){i.debug("DruggistList ctrl more then");t.addList(e);t.$broadcast("scroll.infiniteScrollComplete")})};t.yaoshizixun=function(){h.alertm("咨询药师：请电话咨询").then(function(t){})};t.init();ctrlReinitMap.remove("DruggistListCtrl")});