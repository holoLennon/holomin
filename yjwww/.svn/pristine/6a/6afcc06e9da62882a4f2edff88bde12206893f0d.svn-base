appctrl.controller("WwwhomeCtrl",function(e,t,r,n,i,a){n.debug("enter Wwwhome ctrl");e.vm={};e.vm.isedit=false;e.obj={};e.searchData="";e.member_id=0;if(a.get(LOGINED_USER)!=null){e.member_id=a.get(LOGINED_USER).id}e.page=_.clone(_Page);e.page.where="member_id="+e.member_id;e.msgnum=0;e.$on("$ionicView.beforeEnter",function(){n.debug("Wwwhome ctrl beforeEnter")});e.$on("$ionicView.afterEnter",function(){n.debug("Wwwhome ctrl afterEnter");if(ctrlReinitMap.get("WwwhomeCtrl")){ctrlReinitMap.remove("WwwhomeCtrl");n.debug("Wwwhome ctrl afterEnter init");e.init()}});e.init=function(){n.debug("Wwwhome ctrl init"+e.member_id);if(wxNoOpenid()){window.location.href=outGetOpenidUrl;return}e.havaMessage()};e.havaMessage=function(){if(a.get(LOGINED_USER)==null){n.debug("null");return}i.first(null,e.page).then(function(t){n.debug("MemberdoctorList ctrl query then"+t);angular.forEach(t,function(t){if(t.mmsgnotread>0){e.msgnum++}})})};e.search=function(){n.debug("kw ="+e.searchData);if(isblank(e.searchData))return;e.rx("#/tab/ProductListSearch/"+e.searchData)};e.init();ctrlReinitMap.remove("WwwhomeCtrl")});