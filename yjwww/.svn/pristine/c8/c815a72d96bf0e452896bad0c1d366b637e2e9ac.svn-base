appctrl.controller("DoctorProductListCtrl",function(t,e,o,r,i,c,n,u,a,l,s,d,f,g,h,P,p,L,D,b){f.debug("enter DoctorProductList ctrl");t.act=l.act;t.page=_.clone(_Page);t.list=[];t.$on("$ionicView.beforeEnter",function(){f.debug("DoctorProductList ctrl beforeEnter")});t.$on("$ionicView.afterEnter",function(){f.debug("DoctorProductList ctrl afterEnter");if(ctrlReinitMap.get("DoctorProductListCtrl")){ctrlReinitMap.remove("DoctorProductListCtrl");f.debug("DoctorProductList ctrl afterEnter init");t.init()}});t.init=function(){f.debug("DoctorProductList ctrl init ");t.page.where=g.get("DoctorProductList"+"QueryWhere");t.page.pageNo=1;t.page.hasNextPage=false;t.list=[];t.first()};t.doRefresh=function(){t.init()};t.addList=function(e){angular.forEach(e,function(e){t.list.push(e)});if(e&&e.length<t.page.pageSize){t.page.hasNextPage=false}else{t.page.hasNextPage=true}if(t.list.length<1){t.showConfirm()}};t.first=function(){p.first(null,t.page).then(function(e){f.debug("DoctorProductList ctrl query then");t.addList(e);t.$broadcast("scroll.refreshComplete")})};t.more=function(){f.debug("DoctorProductList ctrl more=========");if(!t.page.hasNextPage){return}p.more(t.page).then(function(e){f.debug("DoctorProductList ctrl more then");t.addList(e);t.$broadcast("scroll.infiniteScrollComplete")})};t.chooseThis=function(e){t.cartAdd(e.productIdProductObj);h.goBack()};t.delDoctorProduct=function(e){D.confirm("确认删除？").then(function(o){if(o){L.delDoctorProduct(e).then(function(e){f.debug("delDoctorProduct then");t.init()})}else{}})};t.showConfirm=function(){D.confirm("您的药架还没有药品请先添加药品!").then(function(e){if(e){t.rx("#/tab/ProductTypeList")}else{}})};t.init();ctrlReinitMap.remove("DoctorProductListCtrl")});