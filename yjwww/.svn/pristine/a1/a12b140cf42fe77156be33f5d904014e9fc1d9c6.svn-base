appctrl.controller("UserinfoCtrl",function(e,t,n,i,r,o,f,s,c,l,u,b,g,d,a,U,j,E){n.debug("enter Userinfo ctrl");var h=g.id;e.user=d.get(LOGINED_USER_C);h=e.user?e.user.id:0;e.vm={};e.vm.isedit=false;if(h==="0")e.vm.isedit=true;e.obj={};e.$on("$ionicView.beforeEnter",function(){n.debug("Userinfo ctrl beforeEnter");e.user=d.get(LOGINED_USER_C);h=e.user?e.user.id:0});e.$on("$ionicView.afterEnter",function(){n.debug("Userinfo ctrl afterEnter");if(ctrlReinitMap.get("UserinfoCtrl")){ctrlReinitMap.remove("UserinfoCtrl");n.debug("Userinfo ctrl afterEnter init");e.init()}});e.init=function(){n.debug("Userinfo ctrl init id="+h);e.get()};e.getlocal=function(){n.debug("Userinfo ctrl getlocal id="+h);if(isblank0(h)){e.obj=_.clone(_User)}else{e.obj=E.getlocal(h)}n.debug(e.obj)};e.get=function(){n.debug("Userinfo ctrl get id="+h);if(isblank0(h)){E.newget().then(function(t){n.debug("Userinfo ctrl newget then");e.obj=t})}else{E.get(h).then(function(t){n.debug("Userinfo ctrl get then");e.obj=t;e.obj.password=""})}};e.save=function(){n.debug("Userinfo ctrl get id="+h);n.debug(e.obj);if(isblank0(h)){E.create(e.obj).then(function(t){n.debug("Userinfo ctrl save then");e.obj=t})}else{E.update(e.obj).then(function(t){n.debug("Userinfo ctrl update then");e.obj=t;n.debug(e.obj.id);a.goBack();e.rx("#/tab/Mystore")})}};e.init();ctrlReinitMap.remove("UserinfoCtrl")});