appctrl.controller("ProductchannelListCtrl",function(t,e,r,n,c,i,o,u,a,d,l,s,f,p,h,g,P){f.debug("enter ProductchannelList ctrl");t.page=_.clone(_Page);t.list=[];t.$on("$ionicView.beforeEnter",function(){f.debug("ProductchannelList ctrl beforeEnter")});t.$on("$ionicView.afterEnter",function(){f.debug("ProductchannelList ctrl afterEnter");if(ctrlReinitMap.get("ProductchannelListCtrl")){ctrlReinitMap.remove("ProductchannelListCtrl");f.debug("ProductchannelList ctrl afterEnter init");t.init()}});t.init=function(){f.debug("ProductchannelList ctrl init ");t.page.where=p.get("ProductchannelList"+"QueryWhere");t.page.pageNo=1;t.page.hasNextPage=false;t.list=[];t.tree()};t.doRefresh=function(){t.init()};t.addList=function(e){angular.forEach(e,function(e){t.list.push(e)})};t.first=function(){g.first(null,t.page).then(function(e){f.debug("ProductchannelList ctrl query then");t.addList(e);t.$broadcast("scroll.refreshComplete")});t.init()};t.tree=function(){g.tree(t.page).then(function(e){f.debug("ProductchannelList ctrl tree then");t.addList(e);t.$broadcast("scroll.refreshComplete")})};t.more=function(){f.debug("ProductTypeList ctrl more=========");if(!t.page.hasNextPage){return}ProductTypeService.more(t.page).then(function(e){f.debug("ProductTypeList ctrl more then");t.addList(e);t.$broadcast("scroll.infiniteScrollComplete")})};t.selected=0;t.isSelected=function(e){return t.selected===e};t.changeNavCat=function(e,r){t.selected=e;d.scrollTop()};t.firstProductTypeLinkProduct=function(e,r){var n="productTypeId="+e+" and statusValidOrNot=1";f.debug("home ProductTypeLinkProductList first "+n);P.first(n).then(function(e){f.debug("home ProductTypeLinkProductList query then");t.addListProductTypeLinkProduct(e,r);t.$broadcast("scroll.refreshComplete")})};t.addListProductTypeLinkProduct=function(e,r){angular.forEach(e,function(e){e.num=0;t.listProductTypeLinkProduct[r].push(e)});if(e&&e.length<t.page[r].pageSize){t.page[r].hasNextPage=false}else{t.page[r].hasNextPage=true}};t.gotoUrlProductList=function(t){p.set("ProductList"+"QueryWhere","productchannel_id="+t.id);ctrlReinitMap.put("ProductListCtrl",1);u.path("/tab/ProductList")};t.init();ctrlReinitMap.remove("ProductTypeListCtrl")});