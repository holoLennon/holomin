appctrl.controller("ProductCtrl",function(t,e,o,c,n,r,i,u,d,l,a,b,g,f,P,j,h,s){o.debug("enter Product ctrl");var p=g.id;t.act=g.act;t.vm={};t.vm.isedit=false;if(p==="0")t.vm.isedit=true;t.obj={};t.$on("$ionicView.beforeEnter",function(){o.debug("Product ctrl beforeEnter")});t.$on("$ionicView.afterEnter",function(){o.debug("Product ctrl afterEnter");if(ctrlReinitMap.get("ProductCtrl")){ctrlReinitMap.remove("ProductCtrl");o.debug("Product ctrl afterEnter init");t.init()}});t.init=function(){o.debug("Product ctrl init id="+p);t.get()};t.getlocal=function(){o.debug("Product ctrl getlocal id="+p);if(isblank0(p)){t.obj=_.clone(_Product)}else{t.obj=h.getlocal(p)}o.debug(t.obj)};t.get=function(){o.debug("Product ctrl get id="+p);if(isblank0(p)){h.newget().then(function(e){o.debug("Product ctrl newget then");t.obj=e})}else{h.get(p).then(function(e){o.debug("Product ctrl get then");t.obj=e})}};t.save=function(){o.debug("Product ctrl get id="+p);o.debug(t.obj);if(isblank0(p)){h.create(t.obj).then(function(e){o.debug("Product ctrl save then");t.obj=e;d.path("/tab/Product/"+t.obj.id)})}else{h.update(t.obj).then(function(e){o.debug("Product ctrl update then");t.obj=e;d.path("/tab/Product/"+t.obj.id)})}};t.addToDoctorProduct=function(t){var e={productId:t.id};s.create(e,null).then(function(t){j.alertm("加入成功").then(function(t){})});f.goBack()};t.yijiaru=function(){j.alertm("药品已在您的药架");f.goBack()};t.init();ctrlReinitMap.remove("ProductCtrl")});