appctrl.controller("DoctorListCtrl",function(t,e,r,i,o,a,n,c,l,s,g,f,u,d,h,p){r.debug("enter DoctorList ctrl");t.page=_.clone(_Page);t.list=[];t.searchData="";t.sellerId=0;if(u.get(LOGINED_USER_C)!=null){t.sellerId=u.get(LOGINED_USER_C).id}t.$on("$ionicView.beforeEnter",function(){r.debug("DoctorList ctrl beforeEnter")});t.$on("$ionicView.afterEnter",function(){r.debug("DoctorList ctrl afterEnter");if(ctrlReinitMap.get("DoctorListCtrl")){ctrlReinitMap.remove("DoctorListCtrl");r.debug("DoctorList ctrl afterEnter init");t.init()}});t.init=function(){r.debug("DoctorList ctrl init ");r.debug(t.sellerId);t.page=_.clone(_Page);t.page.where="seller_id="+t.sellerId;t.page.pageNo=1;r.debug(t.page.where);t.page.hasNextPage=false;t.list=[];t.first()};t.first=function(){p.first(null,t.page).then(function(e){r.debug("DoctorList ctrl query then");t.addList(e);t.$broadcast("scroll.refreshComplete")})};t.addList=function(e){angular.forEach(e,function(e){t.list.push(e)});if(e&&e.length<t.page.pageSize){t.page.hasNextPage=false}else{t.page.hasNextPage=true}if(t.list.length<1){h.alertm("您还未有发展医生！")}r.debug("DoctorList addlist")};t.doRefresh=function(){t.init()};t.more=function(){r.debug("DoctorList ctrl more=========");if(!t.page.hasNextPage){return}p.more(t.page).then(function(e){r.debug("DoctorList ctrl more then");t.addList(e);t.$broadcast("scroll.infiniteScrollComplete")})};t.search=function(){r.debug("kw ="+t.searchData);if(isblank(t.searchData))return;t.rx("#/tab/DoctorListSearch/"+t.searchData)};t.goUrlDoctor=function(e){t.rx("#/tab/Doctor/"+e.id)};t.init();ctrlReinitMap.remove("DoctorListCtrl")});